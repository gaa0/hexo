---
title: 객체지향의 사실과 오해 2장. 이상한 나라의 객체
toc: true
thumbnail: images/thumbnail/1.jpeg
tags: [OOP, book, 객체지향]
date: 2022-04-10 00:19:44
categories: 독서
---
## 객체지향과 인지 능력
객체지향 패러다임의 목적은 현실 세계를 기반으로 새로운 세계를 창조하는 것
## 객체, 그리고 이상한 나라
### 이상한 나라의 앨리스
작은 문을 통과하기 위해 온갖 고초를 겪은 앨리스
### 앨리스 객체
앨리스의 특징
- 앨리스는 **상태**를 가지며 상태는 변경 가능하다.
- 앨리스의 상태를 변경시키는 것은 앨리스의 행동이다.
  - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
  - 행동의 순서가 결과에 영향을 미친다.
- 앨리스는 어떤 상태에 있더라도 유일하게 **식별 가능**하다.

## 객체, 그리고 소프트웨어 나라
{% blockquote %}
**객체**란 식별 가능한 개체 또는 사물이다. 객체는 자동차처럼 만질 수 있는 구체적인 사물일 수도 있고, 시간처럼 추상적인 개념일 수도 있다. 객체는 구별 가능한 식별자, 특징적인 행동, 변경 가능한 상태를 가진다. 소프트웨어 안에서 객체는 저장된 상태와 실행 가능한 코드를 통해 구현된다.
{% endblockquote %}
### 상태
- 객체의 **프로퍼티(property)**: 객체의 상태를 구성하는 모든 특징 ex) 키, 위치, 음료 -> '정적'
- **프로퍼티 값(property value)**: 시간이 흐름에 따라 변경되기 때문에 '동적'
- **링크(link)**: 객체와 객체 사이의 의미 있는 연결
- **속성(attribute)**: 객체를 구성하는 단순한 값

{% blockquote %}
**상태**는 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현한다. 객체의 상태는 객체에 존재하는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성된다. 객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분할 수 있다. 
{% endblockquote %}
### 행동
#### 상태와 행동
상태와 행동 사이의 관계
- 객체의 행동은 상태에 영향을 받는다
- 객체의 행동은 상태를 변경시킨다

상태라는 개념을 이용해 행동을 다음의 두 가지 관점에서 서술할 수 있음
- 상호작용이 현재의 상태에 어떤 방식으로 의존하는가
- 상호작용이 어떻게 현재의 상태를 변경시키는가

앨리스가 문을 통과하는 행동을 상태 관점에서 설명하면
- 앨리스의 키가 40센티미터 이하라면 문을 통과할 수 있다.
- 문을 통과한 후에 앨리스의 위치는 아름다운 정원으로 바뀌어야 한다.

#### 협력과 행동
객체의 행동으로 인해 발생하는 결과
- 객체 자신의 상태 변경
- 행동 내에서 협력하는 다른 객체에 대한 메시지 전송

{% blockquote %}
**행동**이란 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동이다. 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메시지를 전달할 수 있다. 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 한다.
{% endblockquote %}
#### 상태 캡슐화
상태를 잘 정의된 행동 집합 뒤로 캡슐화하는 것은 객체의 자율성을 높이고 협력을 단순하고 유연하게 만든다.
### 식별자
- **값(value)**: 숫자, 문자열, 날짜, 시간, 금액 등과 같이 변하지 않는 양
- **동등성(equality)**: 상태를 이용해 두 값이 같은지 판단할 수 있는 성질
- **동일성(identical)**: 식별자를 기반으로 객체가 같은지를 판단할 수 있는 성질

{% blockquote %}
**식별자**란 어떤 객체를 다른 객체와 구분하는 데 사용하는 객체의 프로퍼티다. 값은 식별자를 가지지 않기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스를 비교해야 한다. 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사를 통해 두 인스턴스를 비교할 수 있다.
{% endblockquote %}

식별자를 지닌 전통적인 의미의 객체를 가리키는 용어
- **참조 객체(reference object)**
- **엔티티(entity)**

식별자를 기지지 않는 값
- **값 객체(value object)**

객체의 특성
- 객체는 상태를 가지며 상태는 변경 가능하다.
- 객체의 상태를 변경시키는 것은 객체의 행동이다.
  - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
  - 행동의 순서가 실행 결과에 영향을 미친다.
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

## 기계로서의 객체
- **쿼리(query)**: 객체의 상태를 조회하는 작업
- **명령(command)**: 객체의 상태를 변경하는 작업

## 행동이 상태를 결정한다
협력 안에서 객체의 행동은 결국 객체가 협력에 참여하면서 완수해야 하는 책임을 의미한다. 따라서 어떤 **책임**이 필요한가를 결정하는 과정이 전체 **설계**를 **주도**해야 한다.
## 은유와 객체
### 두 번째 도시전설
객체지향이 현실을 오롯이 모방하기만 한다는 것은 오해이다.
### 의인화
레베카 워프스브록은 현실의 객체보다 더 많은 일을 할 수 있는 소프트웨어 객체의 특징을 **의인화**(anthropomorphism)라고 부른다.
### 은유
- **은유(metaphor)**: 실제로는 적용되지 않는 한 가지 개념을 이용해 다른 개념을 서술하는 대화의 한 형태

### 이상한 나라를 창조하라
객체지향 설계자의 목적은 이상한 나라를 창조하는 것